# Приложение прогноза погоды

Веб-приложение, позволяющее пользователям искать прогноз погоды по названию города, используя API Open-Meteo.

## Реализованные функции

- Отображение прогноза погоды для любого города
- Автодополнение названий городов
- Отслеживание ранее просмотренных городов
- Хранение истории поиска и API для отображения статистики
- Контейнеризация с помощью Docker
- Модульные тесты

## Используемые технологии

- **Бэкенд**: Python 3.9+, FastAPI
- **Фронтенд**: HTML, CSS (Bootstrap), JavaScript
- **API**: Open-Meteo для данных о погоде
- **Контейнеризация**: Docker
- **Тестирование**: pytest

## Структура CSV файлов

Приложение использует два CSV файла для определения координат городов:

1. `app/csv/worldcities.csv` - для городов с названиями на английском языке
2. `app/csv/russiacities.csv` - для городов с названиями на русском языке

### Формат CSV файлов

Оба файла должны содержать следующие колонки:
- `city`: Название города
- `lat`: Широта
- `lng`: Долгота

### Функциональность поиска координат

- При вводе названия города на русском языке, приложение автоматически ищет координаты в файле `russiacities.csv`
- При вводе названия города на английском языке, поиск осуществляется в файле `worldcities.csv`
- Поиск нечувствителен к регистру
- Сначала ищется точное совпадение, затем частичное совпадение

## Инструкции по установке

### Локальная разработка

1. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # Для Windows: venv\Scripts\activate
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите приложение:
```bash
uvicorn app.main:app --reload
```

4. Откройте приложение по адресу http://localhost:8000

### Развертывание в Docker

1. Соберите Docker образ:
```bash
docker build -t weather-app .
```

2. Запустите контейнер:
```bash
docker run -p 8000:8000 weather-app
```

## API Endpoints

- `GET /api/weather/{city}` - Получить прогноз погоды для города
- `GET /api/history` - Получить статистику поиска

## Запуск тестов

```bash
pytest
``` 